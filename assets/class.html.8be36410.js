import{_ as c,r as l,o as i,c as u,a as n,b as r,d as e,e as p}from"./app.d5c6f758.js";const d=n("h1",{id:"\u539F\u578B\u548C\u7C7B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u539F\u578B\u548C\u7C7B","aria-hidden":"true"},"#"),e(" \u539F\u578B\u548C\u7C7B")],-1),k={href:"https://zh.javascript.info/",target:"_blank",rel:"noopener noreferrer"},m=e("\u53C2\u8003"),v=p(`<hr><h2 id="\u5C5E\u6027" tabindex="-1"><a class="header-anchor" href="#\u5C5E\u6027" aria-hidden="true">#</a> \u5C5E\u6027</h2><p><strong>\u5C5E\u6027\u6807\u5FD7</strong></p><ul><li>\u5C5E\u6027\u6807\u5FD7 \u9ED8\u8BA4true <ul><li><code>writable</code> \u53EF\u8BFB\u5199 false\u53EA\u8BFB</li><li><code>enumerable</code> \u53EF\u679A\u4E3E</li><li><code>configurable</code> \u53EF\u66F4\u6539\u548C\u5220\u9664\u5C5E\u6027\u6807\u5FD7</li></ul></li><li>\u5C5E\u6027\u6807\u8BC6\u76F8\u5173\u65B9\u6CD5 \u9ED8\u8BA4false <ul><li><code>Object.getOwnPropertyDescriptor(obj, propertyName)</code> \u67E5</li><li><code>Object.getOwnPropertyDescriptors(obj)</code> \u67E5\u5168\u90E8\u5C5E\u6027\u63CF\u8FF0\u7B26</li><li><code>Object.defineProperty(obj, propertyName, descriptor)</code> \u6539</li><li><code>Object.defineProperties(obj, descriptors)</code> \u8BBE\u7F6E\u591A\u4E2A\u5C5E\u6027</li><li>\u514B\u9686\u5BF9\u8C61<code>let clone = Object.defineProperties({}, Object.getOwnPropertyDescriptors(obj))</code></li></ul></li><li>\u5168\u5C40\u9650\u5236\u8BBF\u95EE\u7684\u65B9\u6CD5 \u7565</li></ul><p><strong>\u8BBF\u95EE\u5668\u5C5E\u6027</strong>(\u4E0E\u6570\u636E\u5C5E\u6027\u76F8\u5BF9)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">surname</span><span class="token operator">:</span> <span class="token string">&quot;Smith&quot;</span><span class="token punctuation">,</span>

  <span class="token keyword">get</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>surname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token keyword">set</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>surname<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token string">&quot;Alice Cooper&quot;</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Alice</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>surname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Cooper</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F97\u5230\u4E00\u4E2A\u53EF\u8BFB\u53EF\u5199\u7684\u865A\u62DF\u5C5E\u6027,\u53EF\u4EE5\u7528<code>_prop</code>\u6765\u5B58\u50A8(\u5185\u90E8\u5C5E\u6027),\u6709\u65F6\u53EF\u4EE5\u7528\u6765\u4E3A\u5DF2\u5E9F\u5F03\u7684\u5C5E\u6027\u63D0\u4F9B\u517C\u5BB9\u6027(\u901A\u8FC7\u65B0\u5C5E\u6027\u8BA1\u7B97\u4EA7\u751F)</p><ul><li>\u8BBF\u95EE\u5668\u5C5E\u6027\u63CF\u8FF0\u7B26 <ul><li><code>get</code> \u51FD\u6570</li><li><code>set</code> \u51FD\u6570</li><li><code>enumerable</code> \u53EF\u679A\u4E3E</li><li><code>configurable</code> \u53EF\u914D\u7F6E</li></ul></li></ul><h2 id="\u539F\u578B\u548C\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#\u539F\u578B\u548C\u7EE7\u627F" aria-hidden="true">#</a> \u539F\u578B\u548C\u7EE7\u627F</h2><p>\u5728 JavaScript \u4E2D\uFF0C\u5BF9\u8C61\u6709\u4E00\u4E2A\u7279\u6B8A\u7684\u9690\u85CF\u5C5E\u6027 <code>[[Prototype]]</code>\uFF08\u5982\u89C4\u8303\u4E2D\u6240\u547D\u540D\u7684\uFF09\uFF0C\u5B83\u8981\u4E48\u4E3A null\uFF0C\u8981\u4E48\u5C31\u662F\u5BF9\u53E6\u4E00\u4E2A\u5BF9\u8C61\u7684\u5F15\u7528\u3002\u8BE5\u5BF9\u8C61\u88AB\u79F0\u4E3A\u201C\u539F\u578B\u201D, \u5F53\u8BFB\u53D6\u4E00\u4E2A\u7F3A\u5931\u7684\u5C5E\u6027\u65F6\uFF0CJavaScript \u4F1A\u81EA\u52A8\u4ECE\u539F\u578B\u4E2D\u83B7\u53D6\u8BE5\u5C5E\u6027\u3002\u8FD9\u88AB\u79F0\u4E3A\u201C\u539F\u578B\u7EE7\u627F\u201D,\u4F46\u5199\u5165\u65F6\u4E0D\u4F7F\u7528\u539F\u578B(\u8BBF\u95EE\u5668\u5C5E\u6027\u9664\u5916)\u3002\u8BBE\u7F6E\u65F6\u4F7F\u7528\u7279\u6B8A\u7684\u540D\u5B57 <code>__proto__</code>, <code>__proto__</code> \u7684\u503C\u53EF\u4EE5\u662F\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u662F null\u3002\u800C\u5176\u4ED6\u7684\u7C7B\u578B\u90FD\u4F1A\u88AB\u5FFD\u7565\u3002\u53EA\u80FD\u6709\u4E00\u4E2A <code>[[Prototype]]</code>\u3002\u4E00\u4E2A\u5BF9\u8C61\u4E0D\u80FD\u4ECE\u5176\u4ED6\u4E24\u4E2A\u5BF9\u8C61\u83B7\u5F97\u7EE7\u627F\u3002<code>__proto__</code> \u662F <code>[[Prototype]]</code> \u7684 getter/setter\u3002<code>__proto__</code> \u5C5E\u6027\u5DF2\u6709\u4E9B\u8FC7\u65F6, \u53EF\u4EE5\u4F7F\u7528<code>Object.getPrototypeOf/Object.setPrototypeOf</code> \u6765\u53D6\u4EE3 <code>__proto__</code> \u53BB get/set \u539F\u578B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">surname</span><span class="token operator">:</span> <span class="token string">&quot;Smith&quot;</span><span class="token punctuation">,</span>

  <span class="token keyword">set</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>surname<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token keyword">get</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>surname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> admin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> user<span class="token punctuation">,</span>
  <span class="token literal-property property">isAdmin</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// John Smith</span>

admin<span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token string">&quot;Alice Cooper&quot;</span><span class="token punctuation">;</span> 
<span class="token comment">// \u8FD9\u65F6\u65B9\u6CD5\u4E2D\u7684this\u4E3Aadmin,\u56E0\u6B64name\u548Csurname\u90FD\u5B58\u5728admin\u5BF9\u8C61\u4E2D</span>
<span class="token function">alert</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Alice Cooper\uFF0Cadmin \u7684\u5185\u5BB9\u88AB\u4FEE\u6539\u4E86</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// John Smith\uFF0Cuser\u6CA1\u6709\u53D8\u5316</span>
<span class="token comment">//\u56E0\u6B64\u6211\u4EEC\u53EF\u4EE5\u8BF4\u65B9\u6CD5\u662F\u5171\u4EAB\u7684 \u4F46\u5BF9\u8C61\u72B6\u6001\u4E0D\u662F</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u904D\u5386</strong></p><ul><li><code>Object.keys(son)</code> \u53EA\u6709son\u7684\u5C5E\u6027</li><li><code>for(let prop in son){}</code> \u5148son\u540Eparent</li><li><code>son.hasOwnProperty(key)</code> key\u662F\u5426\u4E3Ason\u81EA\u5DF1\u7684\u5C5E\u6027</li><li>\u5176\u5B9E\u7528<code>{...}</code>\u5B9A\u4E49\u7684\u5BF9\u8C61 \u9ED8\u8BA4\u7EE7\u627F\u81EA<code>Object.prototype</code> \u5176<code>[[Prototype]]</code> \u4E3Anull,\u5728\u8FD9\u91CC\u9762\u6709\u8BB8\u591A\u65B9\u6CD5,\u5B83\u4EEC\u90FD\u662F\u4E0D\u53EF\u679A\u4E3E\u7684</li><li>\u9664\u4E86for...in\u7684\u65B9\u6CD5 \u51E0\u4E4E\u6240\u6709\u5176\u4ED6\u952E/\u503C\u83B7\u53D6\u65B9\u6CD5\u90FD\u5FFD\u7565\u7EE7\u627F\u7684\u5C5E\u6027</li></ul><p><strong>F.prototype</strong></p><ul><li>\u7528\u6784\u9020\u51FD\u6570\u521B\u5EFAnew \u5BF9\u8C61\u7684<code>[[Prototype]]</code>\u6765\u81EA<code>Func.prototype</code></li><li>F.prototype \u6307\u7684\u662F F \u7684\u4E00\u4E2A\u540D\u4E3A &quot;prototype&quot; \u7684\u5E38\u89C4\u5C5E\u6027</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">eats</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Rabbit</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Rabbit</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> animal<span class="token punctuation">;</span>
<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token string">&quot;White Rabbit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  rabbit.__proto__ == animal</span>
<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>eats <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5B9E\u9645\u4E0A\u6BCF\u4E2A\u51FD\u6570\u90FD\u6709<code>prototype</code>\u5C5E\u6027</li><li>\u9ED8\u8BA4\u4E3A<code>{constrauctor: Func}</code></li><li>\u5C5E\u6027 constructor \u6307\u5411\u51FD\u6570\u81EA\u8EAB</li><li>\u6700\u597D\u901A\u8FC7\u6DFB\u52A0\u7684\u65B9\u5F0F\u5F80<code>prototype</code>\u91CC\u9762\u52A0\u5C5E\u6027 \u800C\u4E0D\u662F\u8986\u76D6</li><li>new\u5BF9\u8C61\u5176\u5B9E\u5C31\u7C7B\u540C\u7EE7\u627F\u4E86\u51FD\u6570\u7684<code>prototype</code>\u5C5E\u6027\u5BF9\u5E94\u7684<code>{...}</code>(\u4E5F\u53EF\u4EE5\u662Fnull)</li></ul><p><strong>\u539F\u751F\u539F\u578B</strong></p><div class="custom-container tip"><p class="custom-container-title">Object.prototype</p><p><code>{}</code>\u7B49\u540C\u4E8E<code>new Object()</code><br><code>Object()</code>\u662F\u4E00\u4E2A\u6784\u9020\u51FD\u6570<br>\u5176<code>prototype</code>\u5C5E\u6027\u662F\u4E00\u4E2A\u5DE8\u5927\u7684\u5BF9\u8C61<br>\u56E0\u6B64\u53EF\u4EE5\u7406\u89E3<code>{}</code>\u5C31\u7EE7\u627F\u4E86<code>Object.prototype</code>\u8FD9\u4E2A\u5927\u5BF9\u8C61<br>\u4E5F\u5C31\u662F\u8BF4<code>{...}</code>\u9ED8\u8BA4\u7684<code>[[Prototype]]</code>\u4E3A<code>Object.prototype</code><br>\u800C<code>Object.prototype</code>\u7684<code>[[Prototype]]</code>\u4E3Anull</p></div><p>\u6240\u6709\u7684\u5185\u5EFA\u539F\u578B\u9876\u7AEF\u90FD\u662F Object.prototype, \u5176\u4ED6\u5185\u5EFA\u5BF9\u8C61(\u6784\u9020\u51FD\u6570)\uFF0C\u50CF Array\u3001Date\u3001Function \u53CA\u5176\u4ED6\uFF0C\u90FD\u5728 prototype \u4E0A\u6302\u8F7D\u4E86\u65B9\u6CD5\u3002\u539F\u751F\u539F\u578B\u53EF\u4EE5\u4FEE\u6539\u4F46\u4E0D\u8981\u53BB\u505A\u9664\u975Epolyfilling</p><ul><li>[].<strong>proto</strong> === Array.prototype</li><li>[].<strong>proto</strong>.<strong>proto</strong> === Object.prototype</li><li>[].<strong>proto</strong>.<strong>proto</strong>.<strong>proto</strong> === null</li></ul><p><strong>\u539F\u578B\u65B9\u6CD5</strong></p><ul><li><code>Object.getPrototypeOf(obj)</code> \u8BFB</li><li><code>Object.setPrototypeOf(obj, proto)</code> \u5199</li><li><code>Object.create(proto, [descriptors])</code> \u751F(\u53EF\u52A0\u5C5E\u6027\u6807\u5FD7) <ul><li><code>let clone = Object.create(Object.getPrototypeOf(obj),Object.getOwnPropertyDescriptors(obj))</code> \u514B\u9686</li><li><code>let obj = Object.create(null);</code> \u771F\u7A7A\u5BF9\u8C61\u7528\u4E8E\u7EAF\u7CB9\u7684\u5B58\u50A8\u952E/\u503C\u5BF9(\u65E0\u539F\u578B)</li></ul></li></ul><h2 id="\u7C7B" tabindex="-1"><a class="header-anchor" href="#\u7C7B" aria-hidden="true">#</a> \u7C7B</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  prop <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token comment">// \u5C5E\u6027</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// \u6784\u9020\u5668</span>
  <span class="token function">method</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// method</span>
  <span class="token keyword">get</span> <span class="token function">something</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// getter \u65B9\u6CD5</span>
  <span class="token keyword">set</span> <span class="token function">something</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// setter \u65B9\u6CD5</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// \u6709\u8BA1\u7B97\u540D\u79F0\u7684\u65B9\u6CD5\uFF08\u6B64\u5904\u4E3A symbol\uFF09</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token punctuation">}</span>
  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//\u4E24\u8005\u7C7B\u4F3C</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><ul><li>class\u7684\u6784\u5EFA: <ol><li>\u521B\u5EFA\u540C\u540D\u51FD\u6570</li><li>\u4EE3\u7801\u540C<code>constructor(){}</code></li><li>\u5728<code>prototype</code>\u4E2D\u5B58\u5176\u4ED6\u65B9\u6CD5</li></ol></li><li>\u548C\u6784\u9020\u51FD\u6570\u624B\u52A8\u521B\u5EFA\u7684\u5DEE\u522B: <ol><li>\u901A\u8FC7 class \u521B\u5EFA\u7684\u51FD\u6570\u5177\u6709\u7279\u6B8A\u7684\u5185\u90E8\u5C5E\u6027\u6807\u8BB0(\u53EA\u80FD new)</li><li>\u7C7B\u65B9\u6CD5\u4E0D\u53EF\u679A\u4E3E</li><li>\u7C7B\u603B\u662F\u4F7F\u7528 use strict</li></ol></li><li>\u7C7B\u548C\u51FD\u6570\u4E00\u6837\u4E5F\u80FD\u7528\u8868\u8FBE\u5F0F <ul><li><code>let User = class [innerName] {}</code></li></ul></li><li>\u548C\u5BF9\u8C61\u4E00\u6837\u53EF\u7528get/set \u4EE5\u53CA\u8BA1\u7B97\u5C5E\u6027<code>[]</code></li><li>\u7C7B\u5B57\u6BB5 <ul><li>\u4E4B\u524D\u7C7B\u4EC5\u5177\u6709\u65B9\u6CD5 \u73B0\u5728\u53EF\u4EE5\u6DFB\u52A0\u5C5E\u6027<code>name = &quot;John&quot;</code></li><li>\u4E0D\u540C\u4E4B\u5904\u5728\u4E8E\u5B83\u5E76\u4E0D\u5B58\u4E8E<code>User.prototype</code></li><li>\u800C\u662F\u5728\u521B\u5EFA\u6BCF\u4E00\u4E2A\u72EC\u7ACB\u5BF9\u8C61\u65F6\u88AB\u6DFB\u52A0</li><li>\u53EF\u4EE5\u662F\u7BAD\u5934\u51FD\u6570<code>click=()=&gt;{alert(this.name)}</code><ul><li>\u6B64\u65F6\u53EF\u4EE5\u907F\u514D\u5BF9\u8C61\u65B9\u6CD5\u4F5C\u4E3A\u56DE\u8C03\u65F6this\u4E22\u5931\u7684\u95EE\u9898</li></ul></li></ul></li></ul><h2 id="\u7C7B\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u7EE7\u627F" aria-hidden="true">#</a> \u7C7B\u7EE7\u627F</h2><ul><li>\u7C7B\u7EE7\u627F\u662F\u4E00\u4E2A\u7C7B\u6269\u5C55\u53E6\u4E00\u4E2A\u7C7B\u7684\u4E00\u79CD\u65B9\u5F0F</li><li>\u8BED\u6CD5\u4E3A<code>class Child extends Parent{...}</code></li><li>\u65B0\u7C7B\u521B\u5EFA\u7684\u5BF9\u8C61\u53EF\u4EE5\u8BBF\u95EE\u65E7\u7C7B\u7684\u65B9\u6CD5</li><li>\u539F\u7406\u662F<code>Child.prototype.[[Prototype]]</code> \u4E3A <code>Parent.prototype</code></li><li><code>Child.[[Prototype]]</code> \u4E3A <code>Parent</code></li><li>extends\u540E\u9762\u53EF\u4EE5\u662F\u8FD4\u56DE\u7C7B\u7684\u51FD\u6570\u8C03\u7528</li><li>super\u6307\u4EE3\u7236\u7C7B,\u56E0\u6B64\u91CD\u5199\u65B9\u6CD5\u65F6\u53EF\u4EE5\u5148\u8C03\u7528\u7236\u7C7B\u65B9\u6CD5\u518D\u8865\u5145</li><li>\u7EE7\u627F\u7C7B\u7684constructor\u5FC5\u987B\u8C03\u7528<code>super()</code><ul><li>\u4E14\u5728<code>this</code>\u524D</li><li>\u7F3A\u7701\u9ED8\u8BA4\u751F\u6210<code>constructor(...arg){super(...arg)}</code></li><li>\u56E0\u4E3A\u5728new\u65F6 \u671F\u671B\u7236\u7C7B\u5B8C\u6210\u521B\u5EFA\u5BF9\u8C61\u7684\u5DE5\u4F5C</li></ul></li><li><s>\u7236\u7C7B\u6784\u9020\u5668\u603B\u662F\u4F1A\u4F7F\u7528\u5B83\u81EA\u5DF1\u5B57\u6BB5\u7684\u503C\uFF0C\u800C\u4E0D\u662F\u88AB\u91CD\u5199\u7684\u90A3\u4E00\u4E2A</s></li><li><s><code>[[HomeObject]]</code> \u65B9\u6CD5\u901A\u8FC7\u8BE5\u5C5E\u6027\u8BB0\u4F4F\u8BE5\u5BF9\u8C61</s></li></ul><h2 id="\u7279\u522B\u7684\u5C5E\u6027\u548C\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u7279\u522B\u7684\u5C5E\u6027\u548C\u65B9\u6CD5" aria-hidden="true">#</a> \u7279\u522B\u7684\u5C5E\u6027\u548C\u65B9\u6CD5</h2><p><strong>\u9759\u6001</strong></p><ul><li>\u628A\u4E00\u4E2A\u65B9\u6CD5\u4F5C\u4E3A\u4E00\u4E2A\u6574\u4F53\u8D4B\u503C\u7ED9\u7C7B \u8FD9\u6837\u7684\u65B9\u6CD5\u4E3A\u9759\u6001</li><li><code>class User {static func(){}}</code> <code>User.staticMethod()</code></li><li>\u9759\u6001\u65B9\u6CD5\u7528\u4E8E\u5B9E\u73B0\u5C5E\u4E8E\u6574\u4E2A\u7C7B \u4F46\u4E0D\u5C5E\u4E8E\u8BE5\u7C7B\u4EFB\u4F55\u7279\u5B9A\u5BF9\u8C61\u7684\u529F\u80FD(\u51FD\u6570)</li><li>\u9759\u6001\u65B9\u6CD5\u53EF\u4EE5\u5728\u7C7B\u4E0A\u8C03\u7528\uFF0C\u800C\u4E0D\u662F\u5728\u5355\u4E2A\u5BF9\u8C61\u4E0A</li><li>\u9759\u6001\u5C5E\u6027\u88AB\u7528\u4E8E\u5F53\u6211\u4EEC\u60F3\u8981\u5B58\u50A8\u7C7B\u7EA7\u522B\u7684\u6570\u636E\u65F6\uFF0C\u800C\u4E0D\u662F\u7ED1\u5B9A\u5230\u5B9E\u4F8B</li><li>\u9759\u6001\u5C5E\u6027/\u65B9\u6CD5 \u53EF\u88AB\u7EE7\u627F</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> property <span class="token operator">=</span> <span class="token operator">...</span>
  <span class="token keyword">static</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u7B49\u540C</span>
MyClass<span class="token punctuation">.</span>property <span class="token operator">=</span> <span class="token operator">...</span>
MyClass<span class="token punctuation">.</span>method <span class="token operator">=</span> <span class="token operator">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u53D7\u4FDD\u62A4</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//\u53D7\u4FDD\u62A4\u7684\u5B57\u6BB5\u662F\u53EF\u4EE5\u88AB\u7EE7\u627F\u7684(\u975E\u8BED\u8A00\u7EA7\u5B9E\u73B0)</span>
<span class="token keyword">class</span> <span class="token class-name">CoffeeMachine</span> <span class="token punctuation">{</span>
  <span class="token comment">//\u53D7\u4FDD\u62A4\u7684\u5C5E\u6027\u901A\u5E38\u4EE5\u4E0B\u5212\u7EBF _ \u4F5C\u4E3A\u524D\u7F00</span>
  _waterAmount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">set</span> <span class="token function">waterAmount</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_waterAmount <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">waterAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_waterAmount<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">power</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_power <span class="token operator">=</span> power<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">power</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_power<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u521B\u5EFA\u5496\u5561\u673A</span>
<span class="token keyword">let</span> coffeeMachine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeMachine</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Power is: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>coffeeMachine<span class="token punctuation">.</span>power<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">W</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
coffeeMachine<span class="token punctuation">.</span>waterAmount <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u79C1\u6709</strong></p><ul><li>JavaScript\u65B0\u589E\u7279\u6027 \u4E3A\u79C1\u6709\u5C5E\u6027/\u65B9\u6CD5\u63D0\u4F9B\u8BED\u8A00\u7EA7\u652F\u6301</li><li>\u79C1\u6709\u5C5E\u6027\u548C\u65B9\u6CD5\u4EE5 # \u5F00\u5934 \u53EA\u5728\u7C7B\u7684\u5185\u90E8\u53EF\u88AB\u8BBF\u95EE</li><li>\u79C1\u6709\u5B57\u6BB5\u4E0E\u516C\u5171\u5B57\u6BB5\u4E0D\u4F1A\u51B2\u7A81</li><li>this[&#39;#name&#39;] \u4E0D\u8D77\u4F5C\u7528</li></ul><h2 id="\u5176\u5B83\u7EC6\u8282" tabindex="-1"><a class="header-anchor" href="#\u5176\u5B83\u7EC6\u8282" aria-hidden="true">#</a> \u5176\u5B83\u7EC6\u8282</h2><p><strong>\u6269\u5C55\u5185\u5EFA\u7C7B</strong></p><ul><li>\u5185\u5EFA\u7684\u7C7B\uFF0C\u4F8B\u5982 Array\uFF0CMap \u7B49\u4E5F\u90FD\u662F\u53EF\u4EE5\u6269\u5C55(\u7EE7\u627F)\u7684</li><li>\u5185\u5EFA\u7C7B\u7684<code>[[Prototype]]</code>\u5E76\u4E0D\u6307\u5411<code>Object</code><ul><li>\u5185\u5EFA\u7C7B\u5E76\u975E\u901A\u8FC7<code>extends</code>\u83B7\u5F97\u7EE7\u627F</li><li>\u56E0\u6B64\u6CA1\u6709\u7EE7\u627F\u9759\u6001\u65B9\u6CD5</li></ul></li></ul><p><strong>\u7C7B\u68C0\u67E5</strong></p><ul><li><code>obj instanceof Class</code> \u662F\u5426\u96B6\u5C5E(\u5BF9\u8C61)</li><li><code>typeof</code> \u539F\u59CB\u6570\u636E\u7C7B\u578B</li><li><code>{}.toString.call(obj)</code>\u539F\u59CB\u6570\u636E\u7C7B\u578B\uFF0C\u5185\u5EFA\u5BF9\u8C61\uFF0C\u5305\u542B <code>Symbol.toStringTag</code> \u5C5E\u6027\u7684\u5BF9\u8C61\u90FD\u9002\u7528</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> a<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> b<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> c<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,43),b=p(`<p><strong>Minin\u6A21\u5F0F</strong></p><p>mixin \u662F\u4E00\u4E2A\u5305\u542B\u53EF\u88AB\u5176\u4ED6\u7C7B\u4F7F\u7528\u800C\u65E0\u9700\u7EE7\u627F\u7684\u65B9\u6CD5\u7684\u7C7B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> sayMixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token parameter">phrase</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>phrase<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> sayHiMixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> sayMixin<span class="token punctuation">,</span>

  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8C03\u7528\u7236\u7C7B\u65B9\u6CD5</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (*)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">sayBye</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Bye </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (*)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u62F7\u8D1D\u65B9\u6CD5(mixin)</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> sayHiMixin<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Dude&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello Dude!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),y={__name:"class.html",setup(g){function o(){let a={}.toString.call(12),t={}.toString.call("ok"),s={}.toString.call(new Date);console.log(a,t,s)}return(a,t)=>{const s=l("ExternalLinkIcon");return i(),u("div",null,[d,n("p",null,[n("a",k,[m,r(s)])]),v,n("p",null,[n("button",{onClick:o},"\u8FD0\u884C")]),b])}}},f=c(y,[["__file","class.html.vue"]]);export{f as default};
